name: Build and Push Docker Image

on:
  push:
    branches: [ main ]
    paths:
      - 'Dockerfile'

jobs:
  call-build-push:
    uses: Raulaxxo/DockerBuildPush/.github/workflows/build-and-push-docker.yml@master
    with:
      image_name: raulaxxo/Kaillera
      image_tag: alpine-2.0.3
      dockerfile_path: ./Dockerfile
      context: .
    secrets:
      REGISTRY_USERNAME: ${{ secrets.DOCKER_HUB_USERNAME }}
      REGISTRY_PASSWORD: ${{ secrets.DOCKER_HUB_TOKEN }}
